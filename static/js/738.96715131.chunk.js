!function(){"use strict";var t={137:function(t,e,r){r.d(e,{G:function(){return l}});var n=r(433),o=r(439),u=r(413),i=r(387),a=r(568),c=r(720),f=r(920);function l(t,e){switch(e.type){case"selected_without_turn":return(0,u.Z)((0,u.Z)({},t),{},{message:"Waiting on other player to move"});case"gameover":return(0,u.Z)((0,u.Z)({},t),{},{message:"goat"===e.value?"Goat trapped tigers":"Tiger ate all goats"});case"select":if(null===t.selectedPiece)return s(t,e.value);if(null!==e.value){var r=(0,c.D)(t,"goat")?g(t,t.selectedPiece,e.value):v(t,t.selectedPiece,e.value);return r!=t?r:s(t,e.value)}return t;case"move_directly":return(0,c.D)(t,"goat")?g(t,e.from,e.to):v(t,e.from,e.to);case"server":if(t.moves.length>=e.value.length)return t;var n=t;n.moves.forEach((function(r,n){if(r[0]!==e.value[n][0]||r[1]!==e.value[n][1])return console.error("server data does not add up with local data"),t}));for(var i=n.moves.length;i<e.value.length;i++){var a=(0,o.Z)(e.value[i],2),f=a[0],l=a[1];if((n=(0,c.D)(n,"goat")?g(n,f,l):v(n,f,l)).moves.length!==i+1)return console.error("move from server was not valid"),t}return n}}function s(t,e){return(0,c.D)(t,"goat")?function(t,e){var r=(0,a.f)(t);if(null===e||t.goats.includes(e)&&r||(0,f.W)(e,t.goats,t.tigers)&&!r)return(0,u.Z)((0,u.Z)({},t),{},{selectedPiece:e,message:null});return t}(t,e):function(t,e){if(null===e||t.tigers.includes(e))return(0,u.Z)((0,u.Z)({},t),{},{selectedPiece:e,message:null});return t}(t,e)}function v(t,e,r){if(null===e)return(0,u.Z)((0,u.Z)({},t),{},{message:"Select a tiger to move first"});if(t.tigers.includes(r))return t;if(!t.tigers.includes(e))return(0,u.Z)((0,u.Z)({},t),{},{message:"Select a tiger to move first"});if(t.goats.includes(r)){var o=(0,i.V)(t.tigers,t.goats,e,r);if(null===o)return(0,u.Z)((0,u.Z)({},t),{},{message:"The tiger cannot eat the goat"});var a=t.goats.filter((function(t){return t!==r})),c=t.tigers.filter((function(t){return t!==e}));return c.push(o),(0,u.Z)((0,u.Z)({},t),{},{selectedPiece:null,moves:[].concat((0,n.Z)(t.moves),[[e,r]]),tigers:c,goats:a,message:null})}if((0,f.b1)(e,r)){var l=t.tigers.filter((function(t){return t!==e}));return l.push(r),(0,u.Z)((0,u.Z)({},t),{},{selectedPiece:null,moves:[].concat((0,n.Z)(t.moves),[[e,r]]),tigers:l,message:null})}var s=r+(e-r)/2;if(!0===(0,f.b1)(r,s)&&!0===(0,f.b1)(e,s)){var v=t.goats.filter((function(t){return t!==s})),g=t.tigers.filter((function(t){return t!==e}));return g.push(r),(0,u.Z)((0,u.Z)({},t),{},{selectedPiece:null,moves:[].concat((0,n.Z)(t.moves),[[e,r]]),tigers:g,goats:v,message:null})}return t}function g(t,e,r){if((0,a.f)(t)){if(null===e)return(0,u.Z)((0,u.Z)({},t),{},{message:"Select a goat to move."});if(!t.goats.includes(e))return(0,u.Z)((0,u.Z)({},t),{},{selectedPiece:null,message:"It's goat's turn to mvoe."});if(t.tigers.includes(r))return(0,u.Z)((0,u.Z)({},t),{},{message:"Move the goat to empty space."});if((0,f.b1)(e,r)&&!t.goats.includes(r)){var o=t.goats.filter((function(t){return t!==e}));return o.push(r),(0,u.Z)((0,u.Z)({},t),{},{selectedPiece:null,moves:[].concat((0,n.Z)(t.moves),[[e,r]]),goats:o,message:null})}}else if(e==r)return t.goats.includes(r)||t.tigers.includes(r)?(0,u.Z)((0,u.Z)({},t),{},{message:"Select empty space to place new goat."}):(0,u.Z)((0,u.Z)({},t),{},{selectedPiece:null,moves:[].concat((0,n.Z)(t.moves),[[e,r]]),goats:[].concat((0,n.Z)(t.goats),[r]),message:null});return t}},387:function(t,e,r){r.d(e,{V:function(){return o}});var n=r(920);function o(t,e,r,o){if(!(0,n.b1)(r,o))return null;var u=o+(o-r);return u<0||u>24||1!=(0,n.b1)(u,o)||t.includes(u)||e.includes(u)?null:u}},568:function(t,e,r){r.d(e,{V:function(){return o},f:function(){return u}});var n=r(974);function o(t){return Math.min(Math.ceil(t.moves.length/2),n.b)}function u(t){return t.moves.length>=2*n.b}},867:function(t,e,r){r.d(e,{YR:function(){return f},ci:function(){return a},hI:function(){return c}});var n=r(433),o=r(387),u=r(568),i=r(920);function a(t){var e=t.tigers,r=t.goats,o=[];return e.forEach((function(t){o.push.apply(o,(0,n.Z)(c(t,e,r)))})),o}function c(t,e,r){var n=[];return i.AU[t].forEach((function(u){e.includes(u)||((0,i.W)(u,r,e)||null!=(0,o.V)(e,r,t,u))&&n.push([t,u])})),n}function f(t){if((0,u.f)(t)){var e=[];return t.goats.forEach((function(r){e.push.apply(e,(0,n.Z)(function(t,e){var r=[];return i.AU[t].forEach((function(n){(0,i.W)(n,e.goats,e.tigers)&&r.push([t,n])})),r}(r,t)))})),e}return(0,i.A)(t.tigers,t.goats).map((function(t){return[t,t]}))}},720:function(t,e,r){function n(t){return t.moves.length%2===0?"goat":"tiger"}function o(t,e){return n(t)==e}r.d(e,{D:function(){return o},y:function(){return n}})},920:function(t,e,r){r.d(e,{A:function(){return i},AU:function(){return a},W:function(){return u},b1:function(){return o}});var n=Array.from(Array(25).keys());function o(t,e){return!(t>24||e>24||t<0||e<0||parseInt("".concat(t),10)!==t||parseInt("".concat(e),10)!==e)&&a[t].has(e)}function u(t,e,r){return!(e.includes(t)||r.includes(t))}function i(t,e){return n.filter((function(r){return u(r,e,t)}))}var a=[[1,5,6],[0,2,6],[1,3,6,7,8],[2,4,8],[3,8,9],[0,6,10],[0,1,2,5,7,10,11,12],[2,6,8,12],[2,3,4,7,9,12,13,14],[4,8,14],[5,6,11,15,16],[6,10,12,16],[6,7,8,11,13,16,17,18],[8,12,14,18],[8,9,13,18,19],[10,16,20],[10,11,12,15,17,20,21,22],[12,16,18,22],[12,13,14,17,19,22,23,24],[14,18,24],[15,16,21],[16,20,22],[16,17,18,21,23],[18,22,24],[18,19,23]].map((function(t){return new Set(t)}))},974:function(t,e,r){r.d(e,{b:function(){return n}});var n=20},907:function(t,e,r){function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,{Z:function(){return n}})},878:function(t,e,r){function n(t){if(Array.isArray(t))return t}r.d(e,{Z:function(){return n}})},942:function(t,e,r){r.d(e,{Z:function(){return o}});var n=r(142);function o(t,e,r){return(e=(0,n.Z)(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},199:function(t,e,r){function n(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}r.d(e,{Z:function(){return n}})},267:function(t,e,r){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(e,{Z:function(){return n}})},413:function(t,e,r){r.d(e,{Z:function(){return u}});var n=r(942);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},439:function(t,e,r){r.d(e,{Z:function(){return i}});var n=r(878);var o=r(181),u=r(267);function i(t,e){return(0,n.Z)(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,u,i,a=[],c=!0,f=!1;try{if(u=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=u.call(r)).done)&&(a.push(n.value),a.length!==e);c=!0);}catch(l){f=!0,o=l}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(f)throw o}}return a}}(t,e)||(0,o.Z)(t,e)||(0,u.Z)()}},433:function(t,e,r){r.d(e,{Z:function(){return i}});var n=r(907);var o=r(199),u=r(181);function i(t){return function(t){if(Array.isArray(t))return(0,n.Z)(t)}(t)||(0,o.Z)(t)||(0,u.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},142:function(t,e,r){r.d(e,{Z:function(){return o}});var n=r(2);function o(t){var e=function(t,e){if("object"!==(0,n.Z)(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!==(0,n.Z)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===(0,n.Z)(e)?e:String(e)}},2:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}r.d(e,{Z:function(){return n}})},181:function(t,e,r){r.d(e,{Z:function(){return o}});var n=r(907);function o(t,e){if(t){if("string"===typeof t)return(0,n.Z)(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.Z)(t,e):void 0}}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var u=e[n]={exports:{}};return t[n](u,u.exports,r),u.exports}r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t=r(439),e=r(974),n=r(137),o=r(568),u=r(867),i=r(720);function a(r){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,f=(0,i.y)(r),l=function(t){var r=(0,o.f)(t),n=r?e.b-t.goats.length:(0,o.V)(t)-t.goats.length,i=t.tigers.map((function(e){return(0,u.hI)(e,t.tigers,t.goats).length})).filter((function(t){return 0==t})).length;return n-5*i}(r);if(0==c||20==l||-20==l)return l;if("goat"==f){var s=20;return(0,u.YR)(r).forEach((function(e){var o=(0,t.Z)(e,2),u=o[0],i=o[1],f=(0,n.G)(r,{type:"move_directly",from:u,to:i});s=Math.min(s,a(f,c-1))})),s}var v=-20;return(0,u.ci)(r).forEach((function(e){var o=(0,t.Z)(e,2),u=o[0],i=o[1],f=(0,n.G)(r,{type:"move_directly",from:u,to:i});v=Math.max(v,a(f,c-1))})),v}self.onmessage=function(e){var r;if("best_bot_move"==(null===(r=e.data)||void 0===r?void 0:r.type)){var o,c=e.data.state,f=(0,i.y)(c);if(0==(o="tiger"==f?(0,u.ci)(c):(0,u.YR)(c)).length)return self.postMessage(null),null;for(var l=o.map((function(e){var r=(0,t.Z)(e,2),o=r[0],u=r[1];return a((0,n.G)(c,{type:"move_directly",from:o,to:u}))})),s=l[0],v=o[0],g=1;g<l.length;g++)(l[g]>s&&"tiger"==f||l[g]<s&&"goat"==f)&&(v=o[g],s=l[g]);self.postMessage(v)}}}()}();
//# sourceMappingURL=738.96715131.chunk.js.map